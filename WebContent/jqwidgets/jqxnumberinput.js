/*
jQWidgets v1.8.0 (2012-03-09)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.jqxWidget("jqxNumberInput","",{});a.jqx.textInput={};a.extend(a.jqx.textInput,{addHandler:function(b){a(b).data("lastValue",a(b).val());a(b).bind("keyup.textchange",a.jqx.textInput.handler);a(b).bind("cut.textchange paste.textchange input.textchange",a.jqx.textInput.delayedHandler)},removeHandler:function(b){a(b).unbind(".textchange")},handler:function(b){a.jqx.textInput.triggerIfChanged(a(this))},delayedHandler:function(c){var b=a(this);setTimeout(function(){a.jqx.textInput.triggerIfChanged(b)},25)},triggerIfChanged:function(d){var e=d.val();var c=d.data("lastValue");if(e!==d.data("lastValue")){d.trigger("textchange",[d.data("lastValue")]);var b=false;if(d.val()===""&&d.val()!=c){b=true;d.data("emptyValue",true)}else{b=false;d.data("emptyValue",false)}d.trigger("showPlaceHolder",b);d.data("lastValue",e)}}});a.extend(a.jqx._jqxNumberInput.prototype,{defineInstance:function(){this.value=null;this.decimal=0;this.min=0;this.max=99999999;this.width=null;this.validationMessage="Invalid value";this.height=50;this.textAlign="right";this.readOnly=false;this.promptChar="_";this.decimalDigits=2;this.decimalSeparator=".";this.groupSeparator=",";this.groupSize=3;this.symbol="";this.symbolPosition="left";this.digits=8;this.negative=false;this.negativeSymbol="-";this.disabled=false;this.inputMode="advanced";this.spinButtons=false;this.spinButtonsWidth=18;this.spinButtonsStep=1;this.spinMode="advanced";this.events=["valuechanged","textchanged","mousedown","mouseup","keydown","keyup","keypress",];this.invalidArgumentExceptions=["invalid argument exception"]},createInstance:function(d){this.host.attr({role:"numberInput"});this.tooltip=null;this.host.addClass(this.toThemeProperty("jqx-input"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));if(this.spinButtons){this._spinButtons()}else{this.numberInput=a("<input type='textarea'/>").appendTo(this.host);this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))}var h=a.data(this.host[0],"jqxNumberInput");h.jqxNumberInput=this;var g=this;this.addHandler(this.host,"loadContent",function(n){g._render()});if(this.host.parents("form").length>0){this.host.parents("form").bind("reset",function(){setTimeout(function(){g.setDecimal(0)},10)})}if(this.host.jqxTooltip){var f=this.host.append(a("<div></div>"));var c=f.jqxTooltip();this.tooltip=a.data(c[0],"jqxTooltip").instance;this.tooltip.disabled=true}this.propertyChangeMap.disabled=function(n,q,o,r){if(b.disabled){b.numberInput.addClass(b.toThemeProperty("jqx-input-disabled"));b.numberInput.attr("disabled",true)}else{b.host.removeClass(b.toThemeProperty("jqx-input-disabled"));b.numberInput.attr("disabled",false)}if(b.spinButtons&&b.host.jqxRepeatButton){b.upbutton.jqxRepeatButton({disabled:b.disabled});b.downbutton.jqxRepeatButton({disabled:b.disabled})}};if(this.disabled){this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled"));this.numberInput.attr("disabled",true)}this.selectedText="";this.decimalSeparatorPosition=-1;var l=this.element.id;var e=this.element;var b=this;this.oldValue=this._value();this.items=new Array();this._initializeLiterals();this._render();if(this.value!=null){this.decimal=this.value}this.setDecimal(this.decimal);var g=this;setTimeout(function(){g._render()},100);if(a.jqx.mobile.isChromeMobileBrowser()){this.addHandler(this.numberInput,"input",function(n){window.setTimeout(function(){var q=g._selection();if(q.start<g.numberInput.val().length){g._setSelectionStart(q.start+1)}else{var o=g.numberInput.val();g.numberInput.val(o+"0");g._setSelectionStart(q.start+1)}g._handleBackspace()},10);return false})}this._addHandlers()},wheel:function(d,c){var e=0;if(!d){d=window.event}if(d.originalEvent&&d.originalEvent.wheelDelta){d.wheelDelta=d.originalEvent.wheelDelta}if(d.wheelDelta){e=d.wheelDelta/120}else{if(d.detail){e=-d.detail/3}}if(e){var b=c._handleDelta(e);if(d.preventDefault){d.preventDefault()}if(d.originalEvent!=null){d.originalEvent.mouseHandled=true}if(d.stopPropagation!=undefined){d.stopPropagation()}if(b){b=false;d.returnValue=b;return b}else{return false}}if(d.preventDefault){d.preventDefault()}d.returnValue=false},_handleDelta:function(b){if(b<0){this.spinDown()}else{this.spinUp()}return true},_addHandlers:function(){var b=this;this.addHandler(this.numberInput,"mousedown",function(e){return b._raiseEvent(2,e)});this._mousewheelfunc=this._mousewheelfunc||function(e){if(!b.editcell){b.wheel(e,b);return false}};this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var d=a.jqx.mobile.isOperaMiniMobileBrowser();if(d){this.inputMode="simple";var c=a.jqx.mobile.isOperaMiniBrowser();if(c){b.numberInput.attr("readonly",true)}this.addHandler(a(document),"click."+this.element.id,b._exitSimpleInputMode,b)}this.addHandler(this.numberInput,"focus",function(e){if(b.inputMode=="simple"){}a.data(b.numberInput,"selectionstart",b._selection().start)});this.addHandler(this.numberInput,"blur",function(e){if(b.inputMode=="simple"){b._exitSimpleInputMode(e,b,false)}});this.addHandler(this.numberInput,"mouseup",function(e){return b._raiseEvent(3,e)});this.addHandler(this.numberInput,"keydown",function(e){return b._raiseEvent(4,e)});this.addHandler(this.numberInput,"keyup",function(e){return b._raiseEvent(5,e)});this.addHandler(this.numberInput,"keypress",function(e){return b._raiseEvent(6,e)})},_removeHandlers:function(){var b=this;this.removeHandler(this.numberInput,"mousedown");var c=a.jqx.mobile.isOperaMiniMobileBrowser();if(c){this.removeHandler(a(document),"click."+this.element.id,b._exitSimpleInputMode,b)}this.removeHandler(this.numberInput,"focus");this.removeHandler(this.numberInput,"blur");this.removeHandler(this.numberInput,"mouseup");this.removeHandler(this.numberInput,"keydown");this.removeHandler(this.numberInput,"keyup");this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(this.host.jqxRepeatButton){this.numberInput=a("<input style='float: left;' type='textarea'/>");this.numberInput.appendTo(this.host);this.numberInput.addClass(this.toThemeProperty("jqx-input-content"));this.spincontainer=a('<div style="float: left; height: 100%; overflow: hidden; position: relative;"></div>');this.host.append(this.spincontainer);this.upbutton=a('<div style="padding: 0px; margin-left: -1px; position: relative;"><div style="width: 100%; height: 100%;"></div></div>');this.spincontainer.append(this.upbutton);this.upbutton.jqxRepeatButton({overrideTheme:true,disabled:this.disabled,roundedCorners:"top-right"});this.downbutton=a('<div style="padding: 0px; margin-left: -1px; position: relative;"><div style="width: 100%; height: 100%;"></div></div>');this.spincontainer.append(this.downbutton);this.downbutton.jqxRepeatButton({overrideTheme:true,disabled:this.disabled,roundedCorners:"bottom-right"});var b=this;this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal"));this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal"));this.addHandler(this.downbutton,"mouseup",function(c){if(!b.disabled){b.downbutton.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed"))}});this.addHandler(this.upbutton,"mouseup",function(c){if(!b.disabled){b.upbutton.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed"))}});this.addHandler(this.downbutton,"mousedown",function(c){if(!b.disabled){b.downbutton.addClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed"));return false}});this.addHandler(this.upbutton,"mousedown",function(c){if(!b.disabled){b.upbutton.addClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed"));return false}});this.upbutton.hover(function(){if(!b.disabled){b.upbutton.addClass(b.toThemeProperty("jqx-scrollbar-button-state-hover"))}},function(){b.upbutton.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-hover"))});this.downbutton.hover(function(){if(!b.disabled){b.downbutton.addClass(b.toThemeProperty("jqx-scrollbar-button-state-hover"))}},function(){b.downbutton.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-hover"))});this.upbutton.css("border-width","0px");this.downbutton.css("border-width","0px");if(this.disabled){this.upbutton[0].disabled=true;this.downbutton[0].disabled=true}else{this.upbutton[0].disabled=false;this.downbutton[0].disabled=false}this.spincontainer.addClass(this.toThemeProperty("jqx-input"));this.spincontainer.css("border-width","0px");this.spincontainer.css("border-left-width","1px");this._upArrow=this.upbutton.find("div");this._downArrow=this.downbutton.find("div");this._upArrow.addClass(this.toThemeProperty("icon-arrow-up"));this._downArrow.addClass(this.toThemeProperty("icon-arrow-down"));var b=this;this._upArrow.hover(function(){if(!b.disabled){b._upArrow.addClass(b.toThemeProperty("icon-arrow-up-hover"))}},function(){b._upArrow.removeClass(b.toThemeProperty("icon-arrow-up-hover"))});this._downArrow.hover(function(){if(!b.disabled){b._downArrow.addClass(b.toThemeProperty("icon-arrow-down-hover"))}},function(){b._downArrow.removeClass(b.toThemeProperty("icon-arrow-down-hover"))});this.addHandler(this.downbutton,"click",function(){if(b._selection().start==0){b._setSelectionStart(b.numberInput.val().length)}b.spinDown()});this.addHandler(this.upbutton,"click",function(){if(b._selection().start==0){b._setSelectionStart(b.numberInput.val().length)}b.spinUp()})}},spinDown:function(){var l=this;if(!l.disabled){var n=this._selection();var g=parseFloat(l.decimal);if(l.spinButtonsStep<0){l.spinButtonsStep=1}var c=parseInt(l.decimal)+l.spinButtonsStep;c=c.toString().length;var e=c<=l.digits;if(l.spinMode!="advanced"){if(g>0&&g+l.spinButtonsStep<=l.max&&e){var r=1;for(i=0;i<l.decimalDigits;i++){r=r*10}var d=(r*g)-(r*l.spinButtonsStep);d=d/r;if(d<0){d=0}l.setDecimal(d)}}else{var o=this._getspindecimal();var h=this._getSeparatorPosition();var g=parseFloat(o.decimal);if(l.spinButtonsStep<0){l.spinButtonsStep=1}var c=parseInt(g)+l.spinButtonsStep;c=c.toString().length;var e=c<=l.digits;var r=1;var b=o.decimal.indexOf(this.decimalSeparator);if(b!=-1){var f=o.decimal.length-b-1;var r=1;for(i=0;i<f;i++){r=r*10}g-=new Number(l.spinButtonsStep/r);if(g<0){g=0}g=g.toFixed(f);var b=g.toString().indexOf(this.decimalSeparator);if(b==-1){g=g.toString()+"."}var q=g.toString()+o.afterdecimal;q=new Number(q);q=q.toFixed(l.decimalDigits);l.setDecimal(q)}else{if(g>0&&g+l.spinButtonsStep<=l.max&&e){var d=(r*g)-(r*l.spinButtonsStep);d=d/r;var q=d.toString()+o.afterdecimal;if(q<0){q=0}l.setDecimal(q)}}}this._setSelectionStart(n.start)}},_getspindecimal:function(){var g=this._selection();var l="";var f=this._getSeparatorPosition();var o=this._getVisibleItems();var b=this._getHiddenPrefixCount();var n=this.numberInput.val();if(this.numberInput.val().length==g.start&&g.length==0){this._setSelection(g.start,g.start+1);g=this._selection()}var e=this.inputMode!="advanced";for(i=0;i<g.start;i++){if(e){var h=n.substring(i,i+1);var d=(!isNaN(parseInt(h)));if(d){l+=h}if(h==this.decimalSeparator){l+=h}continue}if(o[i].canEdit&&o[i].character!=this.promptChar){l+=o[i].character}else{if(!o[i].canEdit&&this.decimalSeparatorPosition!=-1&&o[i]==o[this.decimalSeparatorPosition-b]){if(l.length==0){l="0"}l+=o[i].character}}}var c="";for(i=g.start;i<o.length;i++){if(e){var h=n.substring(i,i+1);var d=(!isNaN(parseInt(h)));if(d){c+=h}if(h==this.decimalSeparator){c+=h}continue}if(o[i].canEdit&&o[i].character!=this.promptChar){c+=o[i].character}else{if(!o[i].canEdit&&this.decimalSeparatorPosition!=-1&&o[i]==o[this.decimalSeparatorPosition-b]){c+=o[i].character}}}return{decimal:l,afterdecimal:c}},spinUp:function(){var l=this;if(!l.disabled){var o=this._selection();var n=l.decimal;var g=parseFloat(l.decimal);if(l.spinButtonsStep<0){l.spinButtonsStep=1}var c=parseInt(l.decimal)+l.spinButtonsStep;c=c.toString().length;var e=c<=l.digits;if(l.spinMode!="advanced"){if(g+l.spinButtonsStep<=l.max&&e){var s=1;for(i=0;i<l.decimalDigits;i++){s=s*10}var d=(s*g)+(s*l.spinButtonsStep);d=d/s;l.setDecimal(d)}}else{var q=this._getspindecimal();var h=this._getSeparatorPosition();var g=parseFloat(q.decimal);if(l.spinButtonsStep<0){l.spinButtonsStep=1}var c=parseInt(g)+l.spinButtonsStep;c=c.toString().length;var e=c<=l.digits;var s=1;var b=q.decimal.indexOf(this.decimalSeparator);if(b!=-1){var f=q.decimal.length-b-1;var s=1;for(i=0;i<f;i++){s=s*10}g+=new Number(l.spinButtonsStep/s);g=g.toFixed(f);var b=g.toString().indexOf(this.decimalSeparator);if(b==-1){g=g.toString()+"."}var r=g.toString()+q.afterdecimal;r=new Number(r);r=r.toFixed(l.decimalDigits);l.setDecimal(r)}else{if(g+l.spinButtonsStep<=l.max&&e){var d=(s*g)+(s*l.spinButtonsStep);d=d/s;var r=d.toString()+q.afterdecimal;l.setDecimal(r)}}}if(n==undefined||n.toString().length==r.length){this._setSelectionStart(o.start)}else{this._setSelectionStart(1+o.start)}}},_exitSimpleInputMode:function(b,n,g){if(n==undefined){n=b.data}if(n==null){return}if(g==undefined){if(b.target!=null&&n.element!=null){if((b.target.id!=undefined&&b.target.id.toString().length>0&&n.host.find("#"+b.target.id).length>0)||b.target==n.element){return}}var e=n.host.offset();var d=e.left;var f=e.top;var c=n.host.width();var l=n.host.height();var o=a(b.target).offset();if(o.left>=d&&o.left<=d+c){if(o.top>=f&&o.top<=f+l){return}}}if(a.jqx.mobile.isOperaMiniBrowser()){n.numberInput.attr("readonly",true)}if(n.disabled||n.readOnly){return}var h=a.data(n.numberInput,"simpleInputMode");if(h==null){return}a.data(n.numberInput,"simpleInputMode",null);this._parseDecimalInSimpleMode();return false},_parseDecimalInSimpleMode:function(){var e=this;var c=e.getvalue("negative");var b=this.ValueString;if(b==undefined){b=this.GetValueString(this.numberInput.val(),this.decimalSeparator,this.decimalSeparator!="")}var f=c?"-":"";if(this.symbolPosition=="left"){f+=this.symbol}var d=this.digits%this.groupSize;if(d==0){d=this.groupSize}var g=b.toString();f+=g;if(this.symbolPosition=="right"){f+=this.symbol}e.numberInput.val(f)},_enterSimpleInputMode:function(f,d){if(d==undefined){d=f.data}var e=this._selection();if(d==null){return}var c=d.getvalue("negative");var b=d.decimal;if(c){if(b>0){b=-b}}d.numberInput.val(b);a.data(d.numberInput,"simpleInputMode",true);if(a.jqx.mobile.isOperaMiniBrowser()){d.numberInput.attr("readonly",false)}this._parseDecimalInSimpleMode();this._setSelectionStart(e.start)},setvalue:function(b,c){if(this[b]!=undefined){this[b]=c;this.propertyChangedHandler(this,b,c,c)}},getvalue:function(b){if(b=="decimal"){if(this.negative!=undefined&&this.negative==true){return -this[b]}}if(b in this){return this[b]}return null},_getString:function(){var b="";for(i=0;i<this.items.length;i++){var c=this.items[i].character;b+=c}return b},_literal:function(d,b,c,e){return{character:d,regex:b,canEdit:c,isSeparator:e}},_initializeLiterals:function(){var f=0;var d=this.negativeSymbol.length;for(i=0;i<d;i++){var e=this.negativeSymbol.substring(i,i+1);var l="";var b=false;var n=null;if(this.negative){n=this._literal(e,l,b,false)}else{n=this._literal("",l,b,false)}this.items[f]=n;f++}var c=this.symbol.length;if(this.symbolPosition=="left"){for(i=0;i<c;i++){var e=this.symbol.substring(i,i+1);var l="";var b=false;var n=this._literal(e,l,b,false);this.items[f]=n;f++}}var g=this.digits%this.groupSize;if(g==0){g=this.groupSize}for(i=0;i<this.digits;i++){var e=this.promptChar;var l="\\d";var b=true;var n=this._literal(e,l,b,false);this.items[f]=n;f++;if(i<this.digits-1&&this.groupSeparator!=undefined&&this.groupSeparator.length>0){g--;if(g==0){g=this.groupSize;var h=this._literal(this.groupSeparator,"",false,false);this.items[f]=h;f++}}else{if(i==this.digits-1){n.character=0}}}this.decimalSeparatorPosition=-1;if(this.decimalDigits!=undefined&&this.decimalDigits>0){var e=this.decimalSeparator;if(e.length==0){e="."}var n=this._literal(e,"",false,true);this.items[f]=n;this.decimalSeparatorPosition=f;f++;for(i=0;i<this.decimalDigits;i++){var q=0;var l="\\d";var o=this._literal(q,l,true,false);this.items[f]=o;f++}}if(this.symbolPosition=="right"){for(i=0;i<c;i++){var e=this.symbol.substring(i,i+1);var l="";var b=false;var n=this._literal(e,l,b);this.items[f]=n;f++}}},_match:function(c,b){var d=new RegExp(b,"i");return d.test(c)},_raiseEvent:function(q,d){var n=this.events[q];var b={};b.owner=this;if(this.host.css("display")=="none"){return true}var x=d.charCode?d.charCode:d.keyCode?d.keyCode:0;var f=true;var h=this.readOnly;var v=this;if(q==3||q==2){if(!this.disabled){if(this.inputMode!="simple"){this._handleMouse(d);if(a.jqx.mobile.isChromeMobileBrowser()){a.data(this.numberInput,"selectionstart",this._selection().start)}}else{return true}}}if(q==0){if(this.tooltip!=null&&this.tooltip!=undefined&&this.validationMessage.length>0){var g=this.getvalue("decimal");if((this.max<g)||(this.min>g)){this.host.addClass(this.toThemeProperty("jqx-input-invalid"));var r=a.data(this.numberInput[0],"Tooltip");if(!this.tooltip.isOpen){this.tooltip.location="relative";this.tooltip.disabled=false;this.tooltip.open(this.numberInput,this.validationMessage);r=a.data(this.numberInput[0],"Tooltip");var e=a.data(this.numberInput[0],"TooltipBounds");r.css({top:parseInt(e.position.top)+parseInt(e.elementHeight)+3,left:parseInt(e.position.left)+parseInt(e.elementWidth)-parseInt(e.width)})}var c=a(r).find(".jqx-tooltip-content",true)[0];if(c!=null){c.className=this.toThemeProperty("jqx-tooltip-content-invalid")}}else{var r=a.data(this.numberInput[0],"Tooltip");if(r!=null){this.tooltip.events.closed=function(){var z=a(r).find(".jqx-tooltip-content-invalid",true)[0];if(z!=null){z.className=this.toThemeProperty("jqx-tooltip-content")}}}this.tooltip.close(this.numberInput[0]);this.host.removeClass(this.toThemeProperty("jqx-input-invalid"));this.host.addClass(this.toThemeProperty("jqx-input"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.tooltip.disabled=true}}}var s=new jQuery.Event(n);s.owner=this;b.value=this.getvalue("decimal");b.text=this.numberInput.val();s.args=b;f=this.host.trigger(s);var v=this;if(this.inputMode!="simple"){if(q==4){if(h||this.disabled){return false}if(a.jqx.mobile.isChromeMobileBrowser()){var y=v._selection();window.setTimeout(function(){var z=a.data(v.numberInput,"selectionstart");if(z!=null&&z!=y.start){a.data(v.numberInput,"selectionstart",y.start)}f=v._handleKeyDown(d,x)},25)}else{f=v._handleKeyDown(d,x)}}else{if(q==5){if(h||this.disabled){f=false}}else{if(q==6){if(h||this.disabled){return false}f=v._handleKeyPress(d,x)}}}}else{if(q==4||q==5||q==6){if(h||this.disabled){return false}var w=String.fromCharCode(x);var o=parseInt(w);var u=true;if(!d.ctrlKey&&!d.shiftKey){if(x>=65&&x<=90){u=false}}if(q==6&&a.browser.opera!=undefined){if(x==8){return false}}if(u){if(q==4){u=v._handleSimpleKeyDown(d,x)}if((d.ctrlKey&&x==97)||(d.ctrlKey&&x==65)){return true}if(q==6&&u){var l=this._isSpecialKey(x);return l}}return u}}return f},GetSelectionInValue:function(h,g,f,e){var c=0;for(i=0;i<g.length;i++){if(i>=h){break}var d=g.substring(i,i+1);var b=(!isNaN(parseInt(d)));if(b||(e&&g[i].toString()==f)){c++}}return c},GetSelectionLengthInValue:function(g,h,f,e){var c=0;for(i=0;i<f.length;i++){if(i>=g+h){break}var d=f.substring(i,i+1);var b=(!isNaN(parseInt(d)));if(h>0&&i>=g&&b||(i>=g&&f[i].toString()==e)){c++}}return c},GetInsertTypeByPositionInValue:function(e,g,h,f){var c="before";var b=this.GetValueString(h,g,f);var d=this.GetDigitsToSeparator(0,b);if(e>d){c="after"}return c},RemoveRange:function(d,c,n,e,u){var f=this.digits;var o=d;var v=c;var b=0;var q=this.decimal;var y=this._selection();var n=this.numberInput.val();var e=this.decimalSeparator;var g=e!="";if(v==0&&this.ValueString.length<this.decimalPossibleChars-1){return b}var w=this.GetSeparatorPositionInText(e,n);if(!u){w=this.GetSeparatorPositionInText(".",n)}if(w<0&&!g&&n.length>1){w=n.length}if(w==-1){w=n.length}if(this.ValueString.length==f-1&&d+c<w){v++}var h="";for(i=0;i<n.length;i++){if(i<o||i>=o+v){h+=n.substring(i,i+1);continue}else{if(n[i].toString()==e){h+=e;continue}else{var s=n.substring(i,i+1);if(i>w){h+="0";continue}}}var s=n.substring(i,i+1);var r=(!isNaN(parseInt(s)));if(r){b++}}if(h.length==0){h="0"}if(u){this.numberInput.val(h)}else{this.ValueString=h}var l=h.substring(0,1);if(l==e&&isNaN(parseInt(l))){var x="0"+h;h=x}this.ValueString=this.GetValueString(h,e,g);this.decimal=this.ValueString;this._parseDecimalInSimpleMode();this._setSelectionStart(o);return b},InsertDigit:function(v,B){if(typeof this.digits!="number"){this.digits=parseInt(this.digits)}if(typeof this.decimalDigits!="number"){this.decimalDigits=parseInt(this.decimalDigits)}var h=1+this.digits;var C=this._selection();var o=this.getvalue("negative");var c=false;if(C.start==0&&this.symbol!=""&&this.symbolPosition=="left"){this._setSelectionStart(C.start+1);C=this._selection();c=true}if((o&&c)||(o&&!c&&C.start==0)){this._setSelectionStart(C.start+1);C=this._selection()}var z=this.numberInput.val().substring(C.start,C.start+1);var r=this.numberInput.val();var f=this.decimalSeparator;var l=f!=""&&this.decimalDigits>0;if(z==this.symbol&&this.symbolPosition=="right"){if(this.decimalDigits==0){this.ValueString=this.GetValueString(r,f,l);if(this.ValueString.length>=h){return}}else{return}}this.ValueString=this.GetValueString(r,f,l);var y=this.ValueString;if(this.decimalDigits>0&&B>=y.length){B=y.length-1}var s="";if(B<y.length){s=y.substring(B,B+1)}var g=false;var A=false;var d=this.GetInsertTypeByPositionInValue(B,f,r,l);if(d=="after"){g=true}if(s!="."&&this.ValueString.length>=h-1){g=true}var u=false;var w=l?1:0;if(!g&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+w){return}if(g&&s!="."){if(u){B++}var q=y.substring(0,B);if(q.length==y.length){if(this.ValueString.length>=this.digits+this.decimalDigits+w){return}}var x=v;var b="";if(B+1<y.length){b=y.substring(B+1)}var n=q+x+b;this.ValueString=n}else{var q=y.substring(0,B);var x=v;var b=y.substring(B);var n=q+x+b;if(y.substring(0,1)=="0"){n=x+y.substring(1);if(s=="."){this._setSelectionStart(C.start-1);C=this._selection()}}this.ValueString=n}if(o){this.decimal=-this.ValueString}else{this.decimal=this.ValueString}this._parseDecimalInSimpleMode();var e=C.start;e+=1;this._setSelectionStart(e);this.value=this.decimal;this._raiseEvent(1,this.numberInput.val());this._raiseEvent(0,this.value)},GetStringToSeparator:function(h,f,e){var d="";var b=f;var g=this.GetSeparatorPositionInText(f,h);var c=h.subString(0,g);d=this.GetValueString(c,f,e);return d},GetSeparatorPositionInText:function(c,d){var b=-1;for(i=0;i<d.length;i++){if(d[i].toString()==c){b=i;break}}return b},GetValueString:function(g,f,e){var c="";for(i=0;i<g.length;i++){var d=g.substring(i,i+1);var b=(!isNaN(parseInt(d)));if(b){c+=d}if(d==f){c+=f}}return c},Backspace:function(){var d=this._selection();var e=this._selection();var f=this.numberInput.val();if(d.start==0&&d.length==0){return}this.isBackSpace=true;var c=f.substring[d.start,d.start+1];var b=(!isNaN(parseInt(c)));if(d.start>0&&d.length==0){this._setSelectionStart(d.start-1);var d=this._selection()}this.Delete();this._setSelectionStart(e.start-1);this.isBackSpace=false},Delete:function(c){var e=this._selection();var g=this.numberInput.val();var f=e.start;var h=e.length;h=Math.max(h,1);this.ValueString=this.GetValueString(g,this.decimalSeparator,this.decimalSeparator!="");this.RemoveRange(e.start,h,this.ValueString,".",false);var d=this.ValueString.substring(0,1);var b=(!isNaN(parseInt(d)));if(!b){this.ValueString="0"+this.ValueString}this.decimal=this.ValueString;this._parseDecimalInSimpleMode();this._setSelectionStart(f);this.value=this.decimal;this._raiseEvent(1,this.numberInput.val());this._raiseEvent(0,this.value)},insertsimple:function(d){var l=this._selection();var n=this.numberInput.val();if(l.start==n.length&&this.decimalDigits>0){return}var b=this.decimal;var g=this.decimalSeparator;this.ValueString=this.GetValueString(n,g,g!="");var h=this.GetSelectionInValue(l.start,n,g,g!="");var e=this.GetSelectionLengthInValue(l.start,l.length,n,g);var f=this.GetDigitsToSeparator(0,this.ValueString);var c=false;if(this.decimalDigits>0&&h>=this.ValueString.length){h--}this.RemoveRange(l.start,e,this.ValueString,g,false);this.InsertDigit(d,h,l)},GetDigitsToSeparator:function(c,b){if(b.indexOf(".")<0){return b.length}for(i=0;i<b.length;i++){if(b.substring(i,i+1)=="."){c=i;break}}return c},_handleSimpleKeyDown:function(g,r){var q=this._selection();if(q.start>=0&&q.start<this.items.length){var c=String.fromCharCode(r)}if(r==8){this.Backspace();return false}if(r==190||r==110){var f=this.GetSeparatorPositionInText(".",this.numberInput.val());this._setSelectionStart(f+1);return false}if(r==188){var o=this.numberInput.val();for(i=q.start;i<o.length;i++){if(o[i]==this.groupSeparator){this._setSelectionStart(1+i);break}}return false}var c=String.fromCharCode(r);var l=parseInt(c);if(r>=96&&r<=105){l=r-96;r=r-48}if(!isNaN(l)){var h=this;this.insertsimple(l);return false}if(r==46){this.Delete();return false}if(r==189||r==45){var b=this.getvalue("negative");if(b==false){this.setvalue("negative",true)}else{this.setvalue("negative",false)}this._parseDecimalInSimpleMode();this._setSelectionStart(q.start)}if(r==37||r==39){if(a.jqx.mobile.isChromeMobileBrowser()){var d=r==37?-1:1;a.data(this.numberInput,"selectionstart",this._selection().start+d)}}if(r==38){this.spinUp();return false}else{if(r==40){this.spinDown();return false}}var n=this._isSpecialKey(r);if(!a.browser.mozilla){return true}return n},_getEditRange:function(){var c=0;var b=0;for(i=0;i<this.items.length;i++){if(this.items[i].canEdit){c=i;break}}for(i=this.items.length-1;i>=0;i--){if(this.items[i].canEdit){b=i;break}}return{start:c,end:b}},_getVisibleItems:function(){var b=new Array();var c=0;for(i=0;i<this.items.length;i++){if(this.items[i].character.toString().length>0){b[c]=this.items[i];c++}}return b},_hasEmptyVisibleItems:function(){var b=this._getVisibleItems();for(i=0;i<b.length;i++){if(b[i].canEdit&&b[i].character==this.promptChar){return true}}return false},_getFirstVisibleNonEmptyIndex:function(){var b=this._getVisibleItems();for(i=0;i<b.length;i++){if(b[i].canEdit&&b[i].character!=this.promptChar){return i}}},_handleMouse:function(f,b){var d=this._selection();if(d.length<=1){var c=this._getFirstVisibleNonEmptyIndex();if(d.start<c){this._setSelectionStart(c)}}},_insertKey:function(n){this.numberInput[0].focus();var d=String.fromCharCode(n);var e=parseInt(d);if(isNaN(e)){return}var r=0;for(i=0;i<this.items.length;i++){if(this.items[i].character.length==0){r++}}var l=this._selection();if(a.jqx.mobile.isChromeMobileBrowser()){var f=a.data(this.numberInput,"selectionstart");if(f!=null){l.start=f;l.end=f}}var b=this;if(l.start>=0&&l.start<=this.items.length){var g=false;var h=this._getFirstVisibleNonEmptyIndex();if(l.start<h&&l.length==0){if(!isNaN(d)||d==" "){this._setSelectionStart(h);l=this._selection()}}var c=this._getFirstEditableItemIndex();var q=this._getLastEditableItemIndex();var o=this._getVisibleItems();a.each(o,function(z,D){if(l.start>z&&z!=o.length-1){return}var G=o[z];if(z>q){G=o[q]}if(isNaN(d)||d==" "){return}if(!G.canEdit){return}var C=b._getSeparatorPosition();if(b._match(d,G.regex)){if(!g&&l.length>0){for(j=l.start+r;j<l.end+r;j++){if(b.items[j].canEdit){if(j>C){b.items[j].character="0"}else{b.items[j].character=b.promptChar}}}var F=b._getString();g=true}var C=b._getSeparatorPosition();var A=b._hasEmptyVisibleItems();if(l.start<=C&&A){var x=z;if(b.decimalSeparatorPosition==-1&&l.start==C){x=z+1}var w="";for(p=0;p<x;p++){if(o[p].canEdit&&o[p].character!=b.promptChar){w+=o[p].character}}w+=d;var y=b.decimal<1?1:0;if(l.start==C&&b.decimalSeparatorPosition!=-1){w+=b.decimalSeparator;y=0}for(p=x+y;p<o.length;p++){if(o[p].character==b.decimalSeparator&&o[p].isSeparator){w+=o[p].character}else{if(o[p].canEdit&&o[p].character!=b.promptChar){w+=o[p].character}}}w=parseFloat(w).toString();w=new Number(w);w=w.toFixed(b.decimalDigits);b.setvalue("decimal",w);var F=b._getString();if(l.end<C){b._setSelectionStart(l.end+y)}else{b._setSelectionStart(l.end)}if(l.length>=1){b._setSelectionStart(l.end)}if(l.length==b.numberInput.val().length){var s=b._moveCaretToDecimalSeparator();var E=b.decimalSeparatorPosition>=0?1:0;b._setSelectionStart(s-E)}}else{if(l.start<C||l.start>C){if(b.numberInput.val().length==l.start&&b.decimalSeparatorPosition!=-1){return false}else{if(b.numberInput.val().length==l.start&&b.decimalSeparatorPosition==-1&&!A){return false}}var w="";var u=false;for(p=0;p<z;p++){if(o[p].canEdit&&o[p].character!=b.promptChar){w+=o[p].character}if(o[p].character==b.decimalSeparator&&o[p].isSeparator){w+=o[p].character;u=true}}w+=d;var y=b.decimal<1?1:0;if(!u&&l.start==C-1){w+=b.decimalSeparator;u=true}for(p=z+1;p<o.length;p++){if(!u&&o[p].character==b.decimalSeparator&&o[p].isSeparator){w+=o[p].character}else{if(o[p].canEdit&&o[p].character!=b.promptChar){w+=o[p].character}}}b.setvalue("decimal",w);var F=b._getString();if(b.decimalSeparatorPosition<0&&G==o[q]){b._setSelectionStart(z);return false}var B=F.indexOf(b.symbol);var v=!b.getvalue("negative")?0:1;if(B<=v){B=F.length}if(l.start<B){b._setSelectionStart(z+1)}else{b._setSelectionStart(z)}if(l.length>=1){}if(l.length==b.numberInput.val().length){var s=b._moveCaretToDecimalSeparator();b._setSelectionStart(s-1)}}}return false}})}},_handleKeyPress:function(h,d){var f=this._selection();var b=this;if((h.ctrlKey&&d==97)||(h.ctrlKey&&d==65)){return true}if(d==8){if(f.start>0){b._setSelectionStart(f.start)}return false}if(d==46){if(f.start<this.items.length){b._setSelectionStart(f.start)}return false}if(d==45){var c=this.getvalue("negative");if(c==false){this.setvalue("negative",true)}else{this.setvalue("negative",false)}}if(a.browser.msie){this._insertKey(d)}var g=this._isSpecialKey(d);return g},_deleteSelectedText:function(){var d=this._selection();var c="";var f=this._getSeparatorPosition();var b=this._getVisibleItems();var e=this._getHiddenPrefixCount();if(this.numberInput.val().length==d.start&&d.length==0){this._setSelection(d.start,d.start+1);d=this._selection()}for(i=0;i<d.start;i++){if(b[i].canEdit&&b[i].character!=this.promptChar){c+=b[i].character}else{if(!b[i].canEdit&&this.decimalSeparatorPosition!=-1&&b[i]==b[this.decimalSeparatorPosition-e]){if(c.length==0){c="0"}c+=b[i].character}}}for(i=d.start;i<d.end;i++){if(i>f&&this.decimalSeparatorPosition!=-1){if(b[i].canEdit&&b[i].character!=this.promptChar){c+="0"}}else{if(!b[i].canEdit&&this.decimalSeparatorPosition!=-1&&b[i]==b[this.decimalSeparatorPosition-e]){if(c.length==0){c="0"}c+=b[i].character}}}for(i=d.end;i<b.length;i++){if(b[i].canEdit&&b[i].character!=this.promptChar){c+=b[i].character}else{if(!b[i].canEdit&&this.decimalSeparatorPosition!=-1&&b[i]==b[this.decimalSeparatorPosition-e]){if(c.length==0){c="0"}c+=b[i].character}}}this.setvalue("decimal",c);return d.length>0},_restoreInitialState:function(){var b=parseInt(this.decimalDigits);if(b>0){b+=2}for(k=this.items.length-1;k>this.items.length-1-b;k--){if(this.items[k].canEdit&&this.items[k].character==this.promptChar){this.items[k].character=0}}},clearDecimal:function(){for(i=0;i<this.items.length;i++){if(this.items[i].canEdit){this.items[i].character=this.promptChar}}this._restoreInitialState()},_saveSelectedText:function(){var c=this._selection();var d="";var b=this._getVisibleItems();if(c.start>0||c.length>0){for(i=c.start;i<c.end;i++){if(b[i].canEdit&&b[i].character!=this.promptChar){d+=b[i].character}else{if(b[i].isSeparator){d+=b[i].character}}}}window.clipboardData.setData("Text",d);return d},_pasteSelectedText:function(){var f=this._selection();var l="";var e=0;var d=window.clipboardData.getData("Text");if(d!=this.selectedText&&d.length>0){this.selectedText=window.clipboardData.getData("Text");if(this.selectedText==null||this.selectedText==undefined){return}}var c=f.start;var b=this._getVisibleItems();for(t=0;t<this.selectedText.length;t++){var g=parseInt(this.selectedText[t]);if(!isNaN(g)){var h=48+g;this._insertKey(h)}}},_getHiddenPrefixCount:function(){var b=0;if(!this.negative){b++}if(this.symbolPosition=="left"){for(i=0;i<this.symbol.length;i++){if(this.symbol.substring(i,i+1)==""){b++}}}return b},_getEditableItem:function(){var b=this._selection();for(i=0;i<this.items.length;i++){if(i<b.start){if(this.items[i].canEdit&&this.items[i].character!=this.promptChar){return this.items[i]}}}return null},_getEditableItems:function(){var c=new Array();var b=0;for(i=0;i<this.items.length;i++){if(this.items[i].canEdit){c[b]=this.items[i];b++}}return c},_getValidSelectionStart:function(b){for(i=this.items.length-1;i>=0;i--){if(this.items[i].canEdit&&this.items[i].character!=this.promptChar){return i}}return -1},_getEditableItemIndex:function(c){var e=this._selection();var f=this._getHiddenPrefixCount();var b=this._getVisibleItems();var d=e.start;var g=-1;for(i=0;i<d;i++){if(i<b.length&&b[i].canEdit){g=i+f}}if(g==-1&&e.length>0){d=e.end;for(i=0;i<d;i++){if(i<b.length&&b[i].canEdit){g=i+f;break}}}return g},_getEditableItemByIndex:function(b){for(k=0;k<this.items.length;k++){if(k>b){if(this.items[k].canEdit&&this.items[k].character!=this.promptChar){return k}}}return -1},_getFirstEditableItemIndex:function(){var b=this._getVisibleItems();for(m=0;m<b.length;m++){if(b[m].character!=this.promptChar&&b[m].canEdit&&b[m].character!="0"){return m}}return -1},_getLastEditableItemIndex:function(){var b=this._getVisibleItems();for(m=b.length-1;m>=0;m--){if(b[m].character!=this.promptChar&&b[m].canEdit){return m}}return -1},_moveCaretToDecimalSeparator:function(){for(i=this.items.length-1;i>=0;i--){if(this.items[i].character==this.decimalSeparator&&this.items[i].isSeparator){if(!this.negative){this._setSelectionStart(i);return i}else{this._setSelectionStart(i+1);return i}break}}return this.numberInput.val().length},_handleBackspace:function(){var e=this._selection();var f=this._getHiddenPrefixCount();var b=this._getEditableItemIndex()-f;if(b>=0){if(e.length==0&&b!=-1){this._setSelection(b,b+1)}var g=e.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;if(g){e=this._selection()}var d=this._deleteSelectedText();if(e.length<1||g){this._setSelectionStart(e.start)}else{if(e.length>=1){this._setSelectionStart(e.end)}}if(e.length==this.numberInput.val().length){var c=this._moveCaretToDecimalSeparator();this._setSelectionStart(c-1)}}else{this._setSelectionStart(e.start)}},_handleKeyDown:function(d,o){var n=this._selection();if((d.ctrlKey&&o==97)||(d.ctrlKey&&o==65)){return true}if((d.ctrlKey&&o==120)||(d.ctrlKey&&o==88)){this.selectedText=this._saveSelectedText(d);this._handleBackspace();return false}if((d.ctrlKey&&o==99)||(d.ctrlKey&&o==67)){this.selectedText=this._saveSelectedText(d);return false}if((d.ctrlKey&&o==122)||(d.ctrlKey&&o==90)){return false}if((d.ctrlKey&&o==118)||(d.ctrlKey&&o==86)||(d.shiftKey&&o==45)){this._pasteSelectedText();return false}if(n.start>=0&&n.start<this.items.length){var b=String.fromCharCode(o);var r=this.items[n.start]}if(o==8){this._handleBackspace();return false}if(o==190||o==110){this._moveCaretToDecimalSeparator();return false}if(o==188){var l=this.numberInput.val();for(i=n.start;i<l.length;i++){if(l[i]==this.groupSeparator){this._setSelectionStart(1+i);break}}return false}if(a.browser.msie==null){var b=String.fromCharCode(o);var g=parseInt(b);if(o>=96&&o<=105){g=o-96;o=o-48}if(!isNaN(g)){var f=this;f._insertKey(o);return false}}if(o==46){var q=this._getVisibleItems();if(n.start<q.length){var c=q[n.start].canEdit==false?2:1;if(n.length==0){this._setSelection(n.start+c,n.start+c+n.length)}this._handleBackspace();if(new Number(this.decimal)<1||n.start>this._getSeparatorPosition()){this._setSelectionStart(n.end+c)}else{if(n.start+1<this.decimalSeparatorPosition){this._setSelectionStart(n.end+c)}}}return false}if(o==37||o==39){if(a.jqx.mobile.isChromeMobileBrowser()){var c=o==37?-1:1;a.data(this.numberInput,"selectionstart",this._selection().start+c)}}if(o==38){this.spinUp();return false}else{if(o==40){this.spinDown();return false}}var h=this._isSpecialKey(o);if(!a.browser.mozilla){return true}return h},_isSpecialKey:function(b){if(b!=8&&b!=9&&b!=13&&b!=35&&b!=36&&b!=37&&b!=39&&b!=27&&b!=46){return false}return true},_selection:function(){if("selectionStart" in this.numberInput[0]){var f=this.numberInput[0];var g=f.selectionEnd-f.selectionStart;return{start:f.selectionStart,end:f.selectionEnd,length:g,text:f.value}}else{var c=document.selection.createRange();if(c==null){return{start:0,end:f.value.length,length:0}}var b=this.numberInput[0].createTextRange();var d=b.duplicate();b.moveToBookmark(c.getBookmark());d.setEndPoint("EndToStart",b);var g=c.text.length;return{start:d.text.length,end:d.text.length+c.text.length,length:g,text:c.text}}},_setSelection:function(d,b){if("selectionStart" in this.numberInput[0]){this.numberInput[0].focus();this.numberInput[0].setSelectionRange(d,b)}else{var c=this.numberInput[0].createTextRange();c.collapse(true);c.moveEnd("character",b);c.moveStart("character",d);c.select()}},_setSelectionStart:function(b){this._setSelection(b,b);a.data(this.numberInput,"selectionstart",b)},_render:function(){var c=parseInt(this.host.css("border-left-width"));var g=parseInt(this.host.css("border-left-width"));var f=parseInt(this.host.css("border-left-width"));var d=parseInt(this.host.css("border-left-width"));var l=parseInt(this.host.css("height"))-f-d;var e=parseInt(this.host.css("width"))-c-g;if(this.width!=null&&this.width.toString().indexOf("px")!=-1){e=this.width}else{if(this.width!=undefined&&!isNaN(this.width)){e=this.width}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){l=this.height}else{if(this.height!=undefined&&!isNaN(this.height)){l=this.height}}e=parseInt(e);l=parseInt(l);this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0});this.numberInput.css("text-align",this.textAlign);var n=this.numberInput.css("font-size");if(!isNaN(l)){this.numberInput.css("height",parseInt(n)+4+"px")}if(!isNaN(e)){this.numberInput.css("width",e-2)}var h=l-2*f-2*d-parseInt(n);if(isNaN(h)){h=0}if(!isNaN(l)){this.host.height(l)}if(!isNaN(e)){this.host.width(e)}if(this.spinButtons){e-=parseInt(this.spinButtonsWidth-2);this.spincontainer.width(this.spinButtonsWidth);this.upbutton.width(this.spinButtonsWidth+2);this.downbutton.width(this.spinButtonsWidth+2);this.upbutton.height(Math.round(l/2));this.downbutton.height(Math.round(l/2));this.spincontainer.width(this.spinButtonsWidth);this.numberInput.css("width",e-5);this.numberInput.css("margin-right","2px")}var b=h/2;if(a.browser.msie&&a.browser.version<8){b=h/4}this.numberInput.css("padding-left","0px");this.numberInput.css("padding-right","0px");this.numberInput.css("padding-top",b);this.numberInput.css("padding-bottom",h/2);this.numberInput.val(this._getString());if(this.inputMode!="advanced"){this._parseDecimalInSimpleMode()}},destroy:function(){alert("hey");this._removeHandlers();this.host.remove()},inputValue:function(b){if(b===undefined){return this._value()}this.propertyChangedHandler(this,"value",this._value,b);this._refreshValue();return this},_value:function(){var b=this.numberInput.val();return b},getDecimal:function(){if(this.inputMode=="simple"){this._parseDecimalInSimpleMode()}var b=this.getvalue("negative");if(b&&this.decimal>0){return -this.decimal}return this.decimal},setDecimal:function(h){if(h==null||h==undefined){h=0}if(h.toString().indexOf("e")!=-1){h=0}this.clearDecimal();var l=h.toString();var n="";var b="";var c=true;if(l.length==0){l="0"}for(i=0;i<l.length;i++){if(l.substring(i,i+1)=="."){c=false;continue}if(c){n+=l.substring(i,i+1)}else{b+=l.substring(i,i+1)}}if(n.length>0){n=parseFloat(n).toString()}var f=this.digits;if(f<n.length){n=n.substr(0,f)}var d=0;var g=this._getSeparatorPosition();var e=this._getHiddenPrefixCount();g=g+e;for(i=g;i>=0;i--){if(i<this.items.length&&this.items[i].canEdit){if(d<n.length){this.items[i].character=n.substring(n.length-d-1,n.length-d);d++}}}d=0;for(i=g;i<this.items.length;i++){if(this.items[i].canEdit){if(d<b.length){this.items[i].character=b.substring(d,d+1);d++}}}this._refreshValue();this.ValueString=new Number(h).toFixed(this.decimalDigits);if(this.inputMode=="simple"){this._parseDecimalInSimpleMode()}},_getSeparatorPosition:function(){var b=this._getHiddenPrefixCount();if(this.decimalSeparatorPosition>0){return this.decimalSeparatorPosition-b}return this.items.length-b},_setTheme:function(){this.host.removeClass();this.host.addClass(this.toThemeProperty("jqx-input"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));if(this.spinButtons){this.downbutton.removeClass();this.upbutton.removeClass();this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal"));this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal"));this._upArrow.removeClass();this._downArrow.removeClass();this._upArrow.addClass(this.toThemeProperty("icon-arrow-up"));this._downArrow.addClass(this.toThemeProperty("icon-arrow-down"))}this.numberInput.removeClass();this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertyChangedHandler:function(c,d,g,f){if(d=="digits"||d=="groupSize"||d=="decimalDigits"){if(f<0){throw new Exception(this.invalidArgumentExceptions[0])}}if(d=="theme"){this._setTheme()}if(d=="digits"){if(f!=g){this.digits=parseInt(f)}}if(d=="decimalDigits"){if(f!=g){this.decimalDigits=parseInt(f)}}if(d=="digits"||d=="symbol"||d=="symbolPosition"||d=="groupSize"||d=="groupSeparator"||d=="decimalDigits"||d=="negativeSymbol"){var b=this.decimal;if(g!=f){var e=this._selection();this.items=new Array();this._initializeLiterals();this.value=this._getString();this._refreshValue();this._setSelection(e.start,e.end);this.setDecimal(b)}}if(d=="spinButtons"){if(!f){this.spincontainer.css("display","none")}else{this.spincontainer.css("display","block")}this._render()}if(d=="negative"&&this.inputMode=="advanced"){var e=this._selection();var h=0;if(f){this.items[0].character=this.negativeSymbol[0];h=1}else{this.items[0].character="";h=-1}this._refreshValue();this._setSelection(e.start+h,e.end+h)}if(d=="decimal"){this.setDecimal(f)}if(d==="value"){this.value=f;this.setDecimal(f);this._raiseEvent(1,f)}if(d=="textAlign"){this.textAlign=f;this._render()}if(d=="disabled"){this.numberInput.attr("disabled",f)}if(d=="readOnly"){this.readOnly=f}if(d=="promptChar"){for(i=0;i<this.items.length;i++){if(this.items[i].character==this.promptChar){this.items[i].character=f}}this.promptChar=f}if(d=="width"){this.width=f;this._render()}else{if(d=="height"){this.height=f;this._render()}}},_value:function(){var b=this.value;return b},_refreshValue:function(){var e=this.value;var b=0;this.value=this._getString();e=this.value;var d="";for(i=0;i<this.items.length;i++){if(this.items[i].canEdit&&this.items[i].character!=this.promptChar){d+=this.items[i].character}if(i==this.decimalSeparatorPosition){d+=this.items[i].character}}this.decimal=d;var c=false;if(this.oldValue!==e){this.oldValue=e;this._raiseEvent(0,e);c=true}this.numberInput.val(e);if(c){this._raiseEvent(1,e)}}})})(jQuery);