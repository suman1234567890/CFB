/*
jQWidgets v1.8.0 (2012-03-09)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.extend(a.jqx._jqxGrid.prototype,{setcolumnresizable:function(b,c){this._setcolumnproperty(b,"resizable",text)},getcolumnresizable:function(b){return this._getcolumnproperty(b,"resizable")},_handlecolumnsresize:function(){var c=this;if(this.columnsresize){var b=false;if(c.isTouchDevice()){b=true}var g="mousemove.resize"+this.element.id;var d="mousedown.resize"+this.element.id;var h="mouseup.resize"+this.element.id;if(b){var g="touchmove.resize"+this.element.id;var d="touchstart.resize"+this.element.id;var h="touchend.resize"+this.element.id}this.removeHandler(a(document),g);this.addHandler(a(document),g,function(k){if(c.resizablecolumn!=null&&!c.disabled&&c.resizing){if(c.resizeline!=null){var m=c.host.offset();var r=parseInt(c.resizestartline.offset().left);var i=r-c._startcolumnwidth;var s=c.resizablecolumn.column.minwidth;if(s=="auto"){s=0}else{s=parseInt(s)}var j=c.resizablecolumn.column.maxwidth;if(j=="auto"){j=0}else{j=parseInt(j)}var n=k.pageX;if(b){var p=c.getTouches(k);var o=p[0];n=o.pageX}i+=s;var q=j>0?r+j:0;var l=j==0?true:c._startcolumnwidth+n-r<j?true:false;if(l){if(n>=m.left&&n>=i&&n<=m.left+c.host.width()){if(q!=0&&k.pageX<q){c.resizeline.css("left",n)}else{if(q==0){c.resizeline.css("left",n)}}}}}}return false});this.removeHandler(a(document),d);this.addHandler(a(document),d,function(i){if(c.resizablecolumn!=null&&!c.disabled){c._startcolumnwidth=c.resizablecolumn.column.width;a(document.body).addClass("jqx-disableselect");c.resizing=true;c._resizecolumn=c.resizablecolumn.column;c.resizeline=c.resizeline||a('<div style="position: absolute;"></div>');c.resizestartline=c.resizestartline||a('<div style="position: absolute;"></div>');c.resizebackground=c.resizebackground||a('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>');c.resizebackground.css("opacity",0.01);c.resizebackground.css("cursor","col-resize");c.resizeline.css("cursor","col-resize");c.resizestartline.css("cursor","col-resize");c.resizeline.addClass(c.toThemeProperty("jqx-grid-column-resizeline"));c.resizestartline.addClass(c.toThemeProperty("jqx-grid-column-resizestartline"));a(document.body).append(c.resizeline);a(document.body).append(c.resizestartline);a(document.body).append(c.resizebackground);var j=c.resizablecolumn.columnelement.offset();c.resizebackground.css("left",c.host.offset().left);c.resizebackground.css("top",c.host.offset().top);c.resizebackground.width(c.host.width());c.resizebackground.height(c.host.height());c.resizebackground.css("z-index",999999999);var k=function(l){l.css("left",parseInt(j.left)+c._startcolumnwidth);var o=c._groupsheader();var n=o?c.groupsheader.height():0;var m=c.pageable?c.pagerdiv.height():0;var p=c.hScrollBar.css("visibility")=="visible"?17:0;l.css("top",parseInt(j.top));l.css("z-index",9999999999);l.height(c.host.height()-m-n-p);if(c.enableanimations){l.show("fast")}else{l.show()}};k(c.resizeline);k(c.resizestartline)}});var e=function(){a(document.body).removeClass("jqx-disableselect");if(!c.resizing){return}c.resizing=false;if(c.disabled){return}if(c._resizecolumn!=null&&c.resizeline!=null&&c.resizeline.css("display")=="block"){var m=parseInt(c.resizeline.css("left"));var j=parseInt(c.resizestartline.css("left"));var i=c._startcolumnwidth+m-j;var l=c._resizecolumn.width;c._closemenu();c._resizecolumn.width=i;c._updatecolumnwidths();c._updatecellwidths();c._raiseEvent(14,{columntext:c._resizecolumn.text,column:c._resizecolumn.getcolumnproperties(),datafield:c._resizecolumn.datafield,oldwidth:l,newwidth:i});var k=c.groups.length;if(c.groupable&&k>0||c.rowdetails){c._renderrows(c.virtualsizeinfo)}c._resizecolumn=null;c.resizeline.hide();c.resizestartline.hide();c.resizebackground.remove()}c.resizablecolumn=null};if(window.frameElement){if(window.top!=null){var f=function(i){e()};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",f,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",f)}}}}this.removeHandler(a(document),h);this.addHandler(a(document),h,function(i){e()})}}})})(jQuery);